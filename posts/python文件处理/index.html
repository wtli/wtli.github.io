<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title> Python文件处理 - wtlinux-职业生涯记录</title>
  <meta name="description" content="wtlinux-职业生涯记录" />
  <meta property="og:title" content="Python文件处理" />
  <meta name="twitter:title" content="Python文件处理" />
  <meta name="description" content="对文章的简要描述 SEO used for description">
  <meta property="og:description" content="对文章的简要描述 SEO used for description">
  <meta name="twitter:description" content="对文章的简要描述 SEO used for description">
  <meta name="author" content="wangtian"/>
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://www.eee.wiki/posts/python%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="wtlinux" />

  <meta name="generator" content="Hugo 0.41" />
  <link rel="canonical" href="https://www.eee.wiki/posts/python%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/" />
  <link rel="alternate" href="https://www.eee.wiki/index.xml" type="application/rss+xml" title="wtlinux">
  <script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/jquery-1.12.4.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="https://www.eee.wiki/css/main.css" />
  <link rel="stylesheet" href="https://www.eee.wiki/css/search.css" />
  
  

<meta name="baidu-site-verification" content="g8IYR9SNLF" />
<script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>

<link rel="stylesheet" href="https://www.eee.wiki/css/prism.css" />




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.eee.wiki/">wtlinux</a>
    </div>
    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Home" href="/home">Home</a>
              
              
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent" href="javascript:void(0)">Categories</a>
              <div class="navlinks-children">
                
                
                  <a href="https://www.eee.wiki/tags/ops">ops</a>
                
                
                  <a href="https://www.eee.wiki/tags/dev">dev</a>
                
                
                  <a href="https://www.eee.wiki/tags/error">error</a>
                
                
                  <a href="https://www.eee.wiki/tags">Tags</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="About" href="/about">About</a>
              
              
            </li>
          
        
          
            <li>
              <a title="talk" href="/tags/talk">talk</a>
              
              
            </li>
          
        

        

        
        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
      </div>
    </div>

  </div>
</nav>






    
  
  
  




  
    <div id="header-big-imgs" data-num-img=1 data-img-src-1="https://ws2.sinaimg.cn/large/006tNc79gy1ftcuzmw47tj30hi08rgs2.jpg" data-img-desc-1="Shanghai China| 2018-07-19T13:34:10&#43;08:00"></div>
  

  <header class="header-section has-img">
    
      <div class="intro-header big-img">
        
        
        <div class="container">
          <div class="row">
              <div class="col-lg-12 col-md-12 col-md-offset-0">
                
                <div class="post-heading">
                
                  
                     <h1>Python文件处理</h1>
                     
                     
                  
                  
                  
                    
                      <hr class="small">
                      <span class="post-subheading">介绍一些常用的python文件处理的方法</span>
                    
                  
                  
                    <span class="post-meta">
  
  Posted on July 19, 2018
  
  
</span>


                  
                
              </div>
            </div>
          </div>
        </div>
        <span class="img-desc" style="display: inline;"></span>
      </div>
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-md-offset-0">
            <div class="posts-heading">
                <h1 align="center">Python文件处理</h1>
                
                  
                    <h2 align="center" class="posts-subheading">介绍一些常用的python文件处理的方法</h2>
                  
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main" itemscope itemtype="http://schema.org/Article">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            
            
              
            <article role="main" class="blog-post" itemprop="articleBody" id="content">
                
   
  <aside class="toc">
    <nav id="TableOfContents">
<ul>
<li><a href="#打开文件的方法">打开文件的方法</a></li>
<li><a href="#读取文件的方法">读取文件的方法</a>
<ul>
<li><a href="#小结">小结</a></li>
</ul></li>
<li><a href="#for遍历文件的方法">for遍历文件的方法</a>
<ul>
<li><a href="#小结-1">小结：</a></li>
</ul></li>
<li><a href="#总结">总结</a></li>
<li><a href="#while循环">while循环</a></li>
<li><a href="#with-while循环">with+while循环</a></li>
<li><a href="#总结-1">总结</a></li>
<li><a href="#字符串方法">字符串方法</a></li>
<li><a href="#统计内存python脚本">统计内存python脚本</a>
<ul>
<li><a href="#小结-2">小结</a></li>
</ul></li>
</ul>
</nav>
  </aside>
   

                

<h1 id="打开文件的方法">打开文件的方法</h1>

<pre><code>r: 以读方式打开
w: 以写方式打开   
a: 以追加模式打开
r+: 以读写模式打开
w+: 以读写模式打开
a+: 以读写模式打开
rb: 以二进制读模式打开
wb: 以二进制写模式打开
ab: 以二进制追加模式打开
rb+: 以二进制读写模式打开
wb+: 以二进制读写模式打开
ab+: 以二进制读写模式打开
</code></pre>

<ul>
<li><p>注意</p>

<p><font color=red>以w打开文件会覆盖原来的文件</font></p>

<h1 id="读取文件的方法">读取文件的方法</h1></li>
</ul>

<pre><code>In [31]: fd.
             fd.close      fd.errors     fd.isatty     fd.newlines   fd.readinto   fd.seek       fd.truncate   fd.xreadlines 
             fd.closed     fd.fileno     fd.mode       fd.next       fd.readline   fd.softspace  fd.write                    
             fd.encoding   fd.flush      fd.name       fd.read       fd.readlines  fd.tell       fd.writelines               
In [30]: fd = open('/tmp/tmp.txt')

In [31]: fd.read()
Out[31]: '1\n2\n3\n'

In [32]: fd = open('/tmp/tmp.txt')

In [33]: fd.readline()
Out[33]: '1\n'

In [34]: fd.readline()
Out[34]: '2\n'

In [35]: fd.readline()
Out[35]: '3\n'

In [36]: fd.readline()
Out[36]: ''

In [37]: fd = open('/tmp/tmp.txt')

In [38]: fd.readlines()
Out[38]: ['1\n', '2\n', '3\n']

In [39]: fd.readlines()
Out[39]: []

In [40]: fd = open('/tmp/tmp.txt')

In [41]: fd.next()
Out[41]: '1\n'

In [42]: fd.next()
Out[42]: '2\n'

In [43]: fd.next()
Out[43]: '3\n'

In [44]: fd.next()
---------------------------------------------------------------------------
StopIteration                             Traceback (most recent call last)
&lt;ipython-input-44-3df4eef70a28&gt; in &lt;module&gt;()
----&gt; 1 fd.next()
</code></pre>

<h2 id="小结">小结</h2>

<pre><code>fd.read()：返回的是字符串
fd.readline()：返回的是每一行字符串
fd.readlines()：返回的是一行列表
</code></pre>

<h1 id="for遍历文件的方法">for遍历文件的方法</h1>

<pre><code>[root@wangtian day02]# cat /tmp/tmp.txt
1
2
3
[root@wangtian day02]# cat 14.py 
#!/usr/bin/python
fd = open('/tmp/tmp.txt')
for line in fd.readlines():
    print line,
[root@wangtian day02]# python 14.py 
1
2
3
[root@wangtian day02]# cat 14.py &gt; 15.py
[root@wangtian day02]# vi 15.py 
[root@wangtian day02]# cat 15.py 
#!/usr/bin/python
fd = open('/tmp/tmp.txt')
for line in fd:
    print line,
[root@wangtian day02]# python 15.py 
1
2
3
</code></pre>

<h2 id="小结-1">小结：</h2>

<pre><code>print line后面加个逗号，可以抑制print默认的换行。
for line in fd.readlines(): 这种方法会全部加在到内存中，不建议使用
for line in fd: 这种方法类似于fd.next()，没循环一次加在一行，推荐使用。
</code></pre>

<h1 id="总结">总结</h1>

<pre><code>打开文件的时候要使用w方法会覆盖原来的文件，谨慎使用
read(),readline()readlins()的区别是字符串和列表
使用方法的时候选择最小消耗资源的方式
</code></pre>

<h1 id="while循环">while循环</h1>

<pre><code>[root@wangtian day02]# cat 16.py 
#!/usr/bin/python

fd = open('/tmp/tmp.txt')
while True: 
    line = fd.readline()
    if not line:
        break 
    print line,
fd.close
[root@wangtian day02]# python 16.py 
1
2
3
</code></pre>

<h1 id="with-while循环">with+while循环</h1>

<pre><code>[root@wangtian day02]# cat 17.py 
#!/usr/bin/python

with open('/tmp/tmp.txt') as fd:
    while True: 
        line = fd.readline()
        if not line:
            break 
        print line,
[root@wangtian day02]# python 17.py
1
2
3
</code></pre>

<h1 id="总结-1">总结</h1>

<pre><code>for循环有一定的次数
while循环需要给出条件，条件语句后面要加:
for和while遍历完文件之后需要加fd.close关闭文件，养成好习惯，如果不加python执行完系统也会进行回收
with+while进行循环就不用加close的方法
</code></pre>

<h1 id="字符串方法">字符串方法</h1>

<pre><code>a.   
            a.capitalize a.decode     a.expandtabs a.index      a.isdigit    a.istitle    a.ljust      a.partition  a.rindex     a.rsplit     a.splitlines a.swapcase   a.upper      
            a.center     a.encode     a.find       a.isalnum    a.islower    a.isupper    a.lower      a.replace    a.rjust      a.rstrip     a.startswith a.title      a.zfill      
            a.count      a.endswith   a.format     a.isalpha    a.isspace    a.join       a.lstrip     a.rfind      a.rpartition a.split      a.strip      a.translate        
</code></pre>

<h1 id="统计内存python脚本">统计内存python脚本</h1>

<pre><code>[root@wangtian day02]# cat 18.py 
#!/usr/bin/python

with open('/proc/meminfo') as fd:
        for line in fd:
            if line.startswith('MemTotal'):
                total = line.split()[1]
                continue
            if line.startswith('MemFree'):
                free = line.split()[1]
                break
print &quot;%.2f&quot;  % (int(free)/1024.0)+'M' 
[root@wangtian day02]# python 18.py 
792.20M
</code></pre>

<h2 id="小结-2">小结</h2>

<pre><code>str.startswith:以什么开头的方法，返回bool值，是返回True，否返回false
str.split:切割文本的方法，默认以空格和TAB键进行分割，返回的是字符串列表。
a.lower:大替换小写的方法
a.upper:小替换大写的方法
%s和%f都是对字符串进行格式化
%.2f表示保留两位小数
int():表示对字符串转换成整数。
1024.0:表示浮点数
+‘M’:表示进行字符串的拼接

</code></pre>

            </article>

            <ul class="pager blog-pager">
                
                <li class="previous">
                    <a href="https://www.eee.wiki/posts/python%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" data-toggle="tooltip" data-placement="top" title="Python常用数据类型">&larr; Previous Post</a>
                </li>
                 
                <li class="next">
                    <a href="https://www.eee.wiki/posts/python%E5%87%BD%E6%95%B0%E5%92%8C%E8%A3%85%E9%A5%B0%E5%99%A8/" data-toggle="tooltip" data-placement="top" title="Python函数和装饰器">Next Post &rarr;</a>
                </li>
                
            </ul>
            
            <div>
                 
                <h2>See Also</h2>
                <ul>
                    
                    <li><a href="/posts/python%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">Python常用数据类型</a></li>
                    
                    <li><a href="/posts/python%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">Python流程控制</a></li>
                    
                    <li><a href="/posts/%E5%B8%B8%E8%A7%81nginx%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/">常见nginx故障排查</a></li>
                    
                    <li><a href="/posts/kafka%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Kafka常用命令</a></li>
                    
                    <li><a href="/posts/2018%E5%B9%B4%E4%B8%AD%E6%80%BB%E7%BB%93/">2018年中总结</a></li>
                    
                </ul>
                
            </div>
            
            
            
              
            </div>
            
            
        </div>
    </div>
    </section>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
        <img src="https://ws3.sinaimg.cn/large/006tKfTcgy1ft8a0o1hlcj30ax0azjt4.jpg">
          
              <li>
                <a href="mailto:976199267@qq.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/wtli/wtli.github.io" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
        &copy;2017-2018
          
            
              wangtian
            
          
          
          
            &nbsp;&bull;&nbsp;
            <a href="https://www.eee.wiki/">wtlinux</a>
          
        </p>
        <p class="credits theme-by text-muted">
        <a href="http://www.wtlinux.com">wtlinux.com</a>&nbsp;&bull;&nbsp;<a href="https://www.eee.wiki">eee.wiki</a>&nbsp;&bull;&nbsp;<a href="https://www.bldz.com">www.bldz.com</a>
        </p>

        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.41</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/rootsongjc/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>


<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/bootstrap.min.js"></script>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/photoswipe-ui-default.min.js"></script>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/photoswipe.min.js"></script>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/auto-render.min.js"></script>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/main.js"></script>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/prism.js"></script>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/katex.min.js"></script>
<script> renderMathInElement(document.body); </script>







  </body>
</html>

